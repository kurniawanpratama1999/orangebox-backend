generator client {
  provider = "prisma-client"
  output   = "../src/orm/generated/prisma"
}

datasource db {
  provider = "mysql"
}

model users {
  id       Int    @id @default(autoincrement())
  photo    String? @db.LongText
  name     String
  username String @unique
  password String @db.LongText

  created_at DateTime @default(now())
  updated_at DateTime @default(now()) @updatedAt

  tokens     tokens?
}

model tokens {
  id      String @id
  user_id Int    @unique
  token   String @db.LongText

  expired_at DateTime?

  user    users  @relation(fields: [user_id], references: [id])
}

model categories {
  id          Int        @id @default(autoincrement())
  name        String     @unique
  description String     @db.LongText @default("")
  products    products[]
}

model products {
  id             Int     @id @default(autoincrement())
  category_id    Int
  photo          String  @db.LongText
  name           String  @unique
  description    String  @db.LongText @default("")
  price          Decimal @db.Decimal(10,2)

  is_favorite    Boolean @default(false)
  is_new         Boolean @default(false)

  created_at DateTime   @default(now())
  updated_at DateTime   @default(now()) @updatedAt

  category   categories @relation(fields: [category_id], references: [id])
}

model sosmeds {
  id          Int @id @default(autoincrement())
  photo       String? @db.LongText
  name        String @unique
  description String
  link        String @db.LongText

  content_cta      content? @relation("content_cta")
  content_location content? @relation("content_location")
}

model facilities {
  id Int @id @default(autoincrement())
  photo String? @db.LongText
  name String
}

model testimonies {
  id Int @id @default(autoincrement())
  photo String? @db.LongText
  name String
  description String
}

model content {
  id Int @id @default(autoincrement())

  umkm_name String
  umkm_address String

  hero_photo String
  hero_headline String
  hero_subheadline String
  hero_description String

  favorite_title String
  favorite_information String
  favorite_max_product Int

  facility_title String
  facility_information String

  cta_title String
  cta_button String
  cta_link_id Int @unique

  testimoni_title String
  testimoni_information String

  location_photo String
  location_title String
  location_maps String
  location_button String
  location_link_id Int @unique

  sosmed_cta sosmeds @relation("content_cta", fields: [cta_link_id], references: [id])
  sosmed_location sosmeds @relation("content_location",fields: [location_link_id],references: [id])
}